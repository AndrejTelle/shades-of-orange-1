<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<post>
  <author>admin</author>
  <title>64Bit - neue Generation von Fehlerquellen</title>
  <description />
  <content>&lt;p&gt;&lt;strong&gt;Zuerst die gute Nachricht: &lt;/strong&gt;&lt;/p&gt;  &lt;p&gt;&lt;a href="http://speak-friend.com/images/speak-friend_com/andrej/WindowsLiveWriter/64BitneueGenerationvonFehlerquellen_244E/image_6.png"&gt;&lt;img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="460" alt="image" src="http://speak-friend.com/images/speak-friend_com/andrej/WindowsLiveWriter/64BitneueGenerationvonFehlerquellen_244E/image_thumb_2.png" width="416" border="0" /&gt;&lt;/a&gt; &lt;/p&gt;  &lt;p&gt;Nachdem das Entwickeln auf dem alten Rechner etwas langsam geworden ist, durfte ein neues System her. &lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;&lt;a href="http://www.alternate.de/html/product/details.html?articleId=224279&amp;amp;tn=HARDWARE&amp;amp;l1=CPU&amp;amp;l2=Desktop&amp;amp;l3=Sockel+775"&gt;Intel Core 2 Quad Q6600&lt;/a&gt;&lt;/li&gt;    &lt;li&gt;8 Gig RAM&lt;/li&gt;    &lt;li&gt;Ein &lt;a href="http://www.alternate.de/html/product/details.html?articleId=136626&amp;amp;tn=HARDWARE&amp;amp;l1=Festplatten&amp;amp;l2=SATA&amp;amp;l3=3%2C5+Zoll"&gt;150gig Raptor&lt;/a&gt; mit 10000  Umdrehungen&lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;Das mit einem 64Bit Windows 2008 und alles ist schnell. &lt;/p&gt;  &lt;p&gt;Alles in allem eine Konfiguration die ich zum Entwickeln absolut empfehlen kann. Insbesondere &lt;a href="http://www.jetbrains.com/resharper/"&gt;Resharper&lt;/a&gt; in Verbindung mit &lt;a href="http://windowsclient.net/default.aspx"&gt;WPF&lt;/a&gt; macht wieder Spaß. Auch ist die Hürde mal eben den Development Stack zu Debuggen deutlich gesunken. &lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Nun die schlechte Nachricht:&lt;/strong&gt;&lt;/p&gt;  &lt;p&gt;Der Umstieg auf 64Bit schaft eine neue Welt von Problemen. &lt;/p&gt;  &lt;p&gt;Um mit den Worten von Walter zu sprechen: &lt;a href="http://www.youtube.com/watch?v=7Qg0TlFBcAQ"&gt;"You are entering a world of pain":&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&lt;a href="http://speak-friend.com/images/speak-friend_com/andrej/WindowsLiveWriter/64BitneueGenerationvonFehlerquellen_244E/image_8.png"&gt;&lt;img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="306" alt="image" src="http://speak-friend.com/images/speak-friend_com/andrej/WindowsLiveWriter/64BitneueGenerationvonFehlerquellen_244E/image_thumb_3.png" width="404" border="0" /&gt;&lt;/a&gt; &lt;/p&gt;  &lt;p&gt;Für ein Projekt setzen wir NHibenate mit SQLite ein. &lt;/p&gt;  &lt;p&gt;NHibernate lädt den ADO-Treiber über "Type.GetType(string)"&lt;/p&gt;  &lt;p&gt;&lt;a href="http://speak-friend.com/images/speak-friend_com/andrej/WindowsLiveWriter/64BitneueGenerationvonFehlerquellen_244E/image_10.png"&gt;&lt;img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="68" alt="image" src="http://speak-friend.com/images/speak-friend_com/andrej/WindowsLiveWriter/64BitneueGenerationvonFehlerquellen_244E/image_thumb_4.png" width="406" border="0" /&gt;&lt;/a&gt; &lt;/p&gt;  &lt;p&gt;Das ganze funktioniert für die Tests wunderbar. Auch im WPF Design Mode wird die Datenbank korrekt geladen. Nur beim Starten den Anwendung lautet die Fehlermeldung von "Type.GetType(string)"&lt;/p&gt;  &lt;blockquote&gt;   &lt;p&gt;System.BadImageFormatException&lt;/p&gt; &lt;/blockquote&gt;  &lt;p&gt;Die eigentliche Fehlermeldung kommt jedoch nicht hoch und wird von NHibernate 2 Mal "gecatcht": &lt;/p&gt;  &lt;p&gt;&lt;a href="http://speak-friend.com/images/speak-friend_com/andrej/WindowsLiveWriter/64BitneueGenerationvonFehlerquellen_244E/image_14.png"&gt;&lt;img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="92" alt="image" src="http://speak-friend.com/images/speak-friend_com/andrej/WindowsLiveWriter/64BitneueGenerationvonFehlerquellen_244E/image_thumb_6.png" width="418" border="0" /&gt;&lt;/a&gt; &lt;/p&gt;  &lt;p&gt;Besonders verwirrend wie gesagt, die Tests und selbst im WPF-Design Mode wird die Datenbank korrekt angesprochen. &lt;/p&gt;  &lt;p&gt;Nach langem Debuggen, Haare raufen (habe jetzt fast ne Glatze) und googlen kam die zündende Idee den &lt;a href="http://sqlite.phxsoftware.com/"&gt;SQLite Driver&lt;/a&gt; selbst zu bauen und auf die korrekten CPU Einstellungen zu achten: &lt;/p&gt;  &lt;p&gt;&lt;a href="http://speak-friend.com/images/speak-friend_com/andrej/WindowsLiveWriter/64BitneueGenerationvonFehlerquellen_244E/image_16.png"&gt;&lt;img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="96" alt="image" src="http://speak-friend.com/images/speak-friend_com/andrej/WindowsLiveWriter/64BitneueGenerationvonFehlerquellen_244E/image_thumb_7.png" width="345" border="0" /&gt;&lt;/a&gt; &lt;/p&gt;  &lt;p&gt;Und siehe da, Problem gelöst.&lt;/p&gt;  &lt;p&gt;Ein etwas fader Beigeschmack bleibt. Die Tools und Fehlermeldungen um das Problem zu identifizieren sind obskur. Wie läßt sich sehen ob eine Anwendung in 32Bit oder 64Bit ausgeführt wird. &lt;/p&gt;  &lt;p&gt;Vermutungen: Der Unittestrunner von Resharper und NUnit arbeiten mit 32Bit. Genauso der WPF Designer. &lt;/p&gt;  &lt;p&gt;Hier erstmal Stopp: Es bleiben viele Fragen zum Umstieg von der 32Bit auf die 64Bit Welt und die Wage Hoffnung, das solche Probleme die Ausnahme bleiben. &lt;/p&gt;</content>
  <ispublished>True</ispublished>
  <isdeleted>False</isdeleted>
  <iscommentsenabled>True</iscommentsenabled>
  <pubDate>2008-03-02 02:36:00</pubDate>
  <lastModified>0001-01-01 06:00:00</lastModified>
  <raters>0</raters>
  <rating>0</rating>
  <slug>64Bit-neue-Generation-von-Fehlerquellen</slug>
  <tags />
  <comments />
  <categories />
  <notifications />
</post>