<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<post>
  <author>oliver</author>
  <title>Connect to a SQL Server Named Instance from a remote server</title>
  <description />
  <content>&lt;p&gt;UPDATE: The SQL Server Browser is actually needed. Don’t know how it worked before without it. See below for instructions.&lt;/p&gt;  &lt;p&gt;Recently, we tried to setup a failover SQL server instance but couldn’t get out remote web servers to connect to it. The setup of our current live DB server had been done a few years ago and unfortunately we didn’t write any documentation on the tricky steps back then. This time, we’re smarter ;-) The important parts are:&lt;/p&gt;  &lt;ol&gt;   &lt;li&gt;Enable TCP/IP in the networking settings:      &lt;ul&gt;       &lt;li&gt;&lt;a href="http://shades-of-orange.com/image.axd?picture=image_43.png"&gt;&lt;img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://shades-of-orange.com/image.axd?picture=image_thumb_43.png" width="529" height="225" /&gt;&lt;/a&gt; &lt;/li&gt;     &lt;/ul&gt;   &lt;/li&gt;    &lt;li&gt;Set a static TCP port to connect to – otherwise the port will be dynamic and for every connection you’d need to find out which port is currently used. Enter the properties for TCP/IP connections and set a TCP port in the IPAll section. I use the default SQL Server port 1433:      &lt;ul&gt;       &lt;li&gt;&lt;a href="http://shades-of-orange.com/image.axd?picture=image_44.png"&gt;&lt;img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://shades-of-orange.com/image.axd?picture=image_thumb_44.png" width="430" height="472" /&gt;&lt;/a&gt; &lt;/li&gt;        &lt;li&gt;Thanks go to &lt;a href="http://stackoverflow.com/questions/9478957/unable-to-access-an-instance-of-sql-server-2008-r2-remotely"&gt;http://stackoverflow.com/questions/9478957/unable-to-access-an-instance-of-sql-server-2008-r2-remotely&lt;/a&gt; :-) &lt;/li&gt;        &lt;li&gt;I assume that it should be possible to specify a given port for only the publicly visible IP address (instead of for all) but unfortunately that didn’t work and I didn’t have the time to investigate the issue any further. &lt;/li&gt;     &lt;/ul&gt;   &lt;/li&gt;    &lt;li&gt;In the Sql Server Configuration Manager, make sure both SQL Server and SQL Server Browser services are running and have their start mode set to Automatic:      &lt;ul&gt;       &lt;li&gt;&lt;a href="http://shades-of-orange.com/image.axd?picture=image_46.png"&gt;&lt;img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://shades-of-orange.com/image.axd?picture=image_thumb_46.png" width="848" height="190" /&gt;&lt;/a&gt; &lt;/li&gt;     &lt;/ul&gt;   &lt;/li&gt;    &lt;li&gt;Open the firewall to allow connections through the port 1433 for the SQL Server service and through 1434 for the SQL Server Browser, potentially restricting access to only the hand-full IP addresses you need to connect:      &lt;ul&gt;       &lt;li&gt;&lt;a href="http://shades-of-orange.com/image.axd?picture=image_48.png"&gt;&lt;img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://shades-of-orange.com/image.axd?picture=image_thumb_48.png" width="780" height="91" /&gt;&lt;/a&gt;&lt;/li&gt;        &lt;li&gt;For more SQL Server specific firewall port opening instructions see this Microsoft support article: &lt;a href="http://support.microsoft.com/kb/968872/en-us"&gt;http://support.microsoft.com/kb/968872/en-us&lt;/a&gt;. &lt;/li&gt;     &lt;/ul&gt;   &lt;/li&gt;    &lt;li&gt;Now you should be able to connect to the SQL server instance using &amp;lt;IP address&amp;gt;\&amp;lt;instance name&amp;gt;. &lt;/li&gt; &lt;/ol&gt;  &lt;p&gt;That’s it – happy SQL’ing!&lt;/p&gt;</content>
  <ispublished>True</ispublished>
  <isdeleted>False</isdeleted>
  <iscommentsenabled>True</iscommentsenabled>
  <pubDate>2012-06-23 19:26:07</pubDate>
  <lastModified>2012-06-29 15:58:22</lastModified>
  <raters>0</raters>
  <rating>0</rating>
  <slug>Connect-to-a-SQL-Server-Named-Instance-from-a-remote-server</slug>
  <tags />
  <comments />
  <categories />
  <notifications />
</post>